<idea-plugin>
    <id>com.github.syuchan1005.emojiprefix</id>
    <name>GitPrefix</name>
    <vendor url="https://twitter.com/syu_chan_1005" email="syuchan.dev@gmail.com">syuchan1005</vendor>

    <description><![CDATA[
        <h1>Easy to 'Emoji(or Text) Prefix Commit'</span>
        <br/>
        <h2>Getting Started</span><br/>
        <ol>
            <li>Create GitPrefix File in your project root.</li>
            <li>Write prefix's you want to use</li>
            <li>Commit!</li>
        </ol>
        <br/>
        <br/>
        .gitprefix file sample and detailed explanation is <a href="https://github.com/syuchan1005/GitPrefix">Here</a>!
    ]]></description>

    <change-notes><![CDATA[
        <i>Implemented enhancements:</i>
        <ul>
            <li>Support 2019.3</li>
        </ul>
    ]]></change-notes>

    <depends>com.intellij.modules.vcs</depends>
    <depends>Git4Idea</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Commit -->
        <vcsCheckinHandlerFactory order="first" implementation="com.github.syuchan1005.gitprefix.git.commit.PrefixCheckinHandlerFactory" />

        <!-- File -->
        <fileType name="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.filetype.PrefixResourceFileType"
                  fieldName="INSTANCE" language="PrefixResource" extensions="gitprefix" />

        <lang.parserDefinition language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.grammar.PrefixResourceParserDefinition" />
        <lang.syntaxHighlighterFactory language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.highlight.PrefixResourceSyntaxHighlighterFactory" />
        <colorSettingsPage implementation="com.github.syuchan1005.gitprefix.highlight.PrefixColorSettingsPage" />

        <codeInsight.lineMarkerProvider language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.editor.PrefixIconLineMarkerProvider" />

        <annotator language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.editor.GitPrefixBlockExprAnnotator" />
        <lang.findUsagesProvider language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.editor.GitPrefixFindUsagesProvider" />
        <lang.foldingBuilder language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.editor.GitPrefixFoldingBuilder" />
        <lang.formatter language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.formatter.PrefixResourceFormattingModelBuilder" />
        <lang.braceMatcher language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.editor.GitPrefixBraceMatcher" />

        <completion.contributor language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.editor.PrefixResourceCompletionContributor" />
        <lang.commenter language="PrefixResource"
                        implementationClass="com.github.syuchan1005.gitprefix.editor.PrefixResourceCommenter"/>
        <lang.psiStructureViewFactory language="PrefixResource" implementationClass="com.github.syuchan1005.gitprefix.structureview.PrefixStructureViewFactory" />

        <fileEditorProvider implementation="com.github.syuchan1005.gitprefix.editor.GitPrefixEditorProvider" />

        <!-- Setting -->
        <projectService serviceImplementation="com.github.syuchan1005.gitprefix.GitPrefixData" />
        <projectConfigurable groupId="tools" displayName="GitPrefix" id="perference.gitprefix.GitPrefixConfigurable"
                                 instance="com.github.syuchan1005.gitprefix.setting.GitPrefixConfigurable" />
        <!--<codeStyleSettingsProvider implementation="com.github.syuchan1005.gitprefix.codestyle.PrefixResourceCodeStyleSettingsProvider" />
        <langCodeStyleSettingsProvider implementation="com.github.syuchan1005.gitprefix.codestyle.PrefixResourceLanguageCodeStyleSettingsProvider" />-->
    </extensions>

    <extensionPoints>
        <extensionPoint name="prefixPanelFactory" interface="com.github.syuchan1005.gitprefix.extension.PrefixPanelFactory" />
    </extensionPoints>

    <actions>
        <!-- New File Action -->
        <action id="GitPrefix.NewFile" class="com.github.syuchan1005.gitprefix.filetype.PrefixNewFileAction">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFromTemplate"/>
        </action>

        <!-- Commit ToolWindow comboBox-->
        <action
          id="GitPrefix.ActionA"
          class="com.github.syuchan1005.gitprefix.git.commit.GitCommitComboBoxAction"
        >
            <add-to-group group-id="ChangesView.CommitToolbar" anchor="first" />
        </action>
    </actions>

    <application-components>
        <component>
            <implementation-class>com.github.syuchan1005.gitprefix.git.injector.GitInjectorManager</implementation-class>
        </component>
    </application-components>
</idea-plugin>
